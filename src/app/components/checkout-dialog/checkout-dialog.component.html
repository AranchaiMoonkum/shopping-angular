<h2 mat-dialog-title class="checkout-dialog__header">Checkout</h2>

<mat-dialog-content>
    <div class="cart-items">
        <li *ngFor="let item of cartItems" class="cart-items__item">
            <div class="checkout-container">
                <section class="checkout-wrapper">
                    <div class="cart-items__details">
                        <img
                            [src]="item.image"
                            alt="{{ item.title }}"
                            class="cart-items__image"
                        />
                        <span
                            class="cart-items__title"
                            matTooltip="{{ item.title }}"
                            >{{ item.title }}</span
                        >
                        <span class="cart-items__price">{{
                            item.price | currency
                        }}</span>
                    </div>
                    <div
                        class="cart-items__details cart-items__details--quantity"
                    >
                        <section class="cart-items__quantity-change">
                            <button
                                class="cart-items__add"
                                (click)="
                                    updateQuantity(item, item.quantity + 1)
                                "
                            >
                                +
                            </button>
                            <input
                                type="number"
                                [(ngModel)]="item.quantity"
                                (change)="updateQuantity(item, item.quantity)"
                                class="cart-items__input"
                                min="1"
                            />
                            <button
                                class="cart-items__remove"
                                (click)="
                                    updateQuantity(item, item.quantity - 1)
                                "
                            >
                                -
                            </button>
                        </section>
                        <button
                            (click)="onDelete(item)"
                            class="cart-items__delete"
                        >
                            Remove
                        </button>
                    </div>
                </section>
            </div>
        </li>
    </div>
</mat-dialog-content>

<mat-dialog-actions align="end" class="checkout-dialog__actions">
    <h2>
        Total price: <span>{{ totalPrice | currency }}</span>
    </h2>

    <section>
        <button mat-button color="primary" (click)="checkoutItem()">
            Checkout
        </button>
        <button mat-button (click)="onClose()" color="accent">Close</button>
    </section>
</mat-dialog-actions>
